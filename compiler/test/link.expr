package main

import "test/time.expr"

func Atoi(string s) int

link "lib.c" {
  atoi: Atoi
}

func main() {
  // TODO: anonymous strings need to have a constructor
  // applied to them
  //printf("6".c_str())
  
  var i = 7

  launch {
    for {
      printf("hi\\n")
      time.Sleep(100)
    }
  }

  time.Sleep(1000)

  defer printf("hey its me\\n")

  printf("Atoi: %d\\n", convert("97"))
}

func convert(string s) int {
  return Atoi(s)
}